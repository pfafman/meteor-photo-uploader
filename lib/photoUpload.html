

<template name="photoUpload">
    <div class="photo-uploader">
        <div class="photo-uploader-control">
            <button class="btn btn-default needsclick" id="take-photo-button"> 
                <i class="fa fa-camera"></i> {{takePhotoLabel}}
            </button>
            <form id="photoUploadForm">
            <input class="xneedsclick" name="photo" type="file" 
                capture="camera" accept="image/*" id="photoUploadFileSelector" style="display:none" />
            </form>
            <p class="help-block">Choose or take a photo to upload.</p>
        </div>
        {{#if havePreviewImage}}
            {{#with previewImage}}
                {{> photoUploadPreview }}
            {{/with}}
        {{/if}}
    </div>
</template>


<template name="photoUploadPreview">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h4 class="panel-title">Image Preview</h4>
        </div>
        <div class="panel-body">
            <form class="" role="form">

                {{#if editTitle}}
                    <div class="form-group">
                        <label for="title" class="control-label">Title</label>
                        <input type="text" name="title" class="form-control" id="title" placeholder="Title" value="{{name}}">
                        <div class="help-block">Size {{size}}</div>
                    </div>
                {{else}}
                    <h5>{{name}} <small>{{size}}</small></h5>
                {{/if}}
                <img id="photoUploadPreview" class="img-rounded" name="{{name}}" src="{{src}}" 
                  filesize="{{filesize}}" orientation="{{orientation}}" />
                
                <div style="padding:5px">
                    <div class="text-muted">Select part of image to crop</div>

                    {{#if editCaption}}
                        <div class="form-group">
                        <label for="caption" class="control-label">Caption</label>
                        <input type="text" name="caption" class="form-control" id="caption" placeholder="add a caption" value="{{caption}}">
                    </div>
                    {{/if}}
                    <button id="upload-photo-button" class="btn btn-primary">
                        <i class="fa fa-cloud-upload"></i> {{uploadLabel}}
                    </button>
                    
                    {{#isolate}}
                    {{#if imagePartSelected}}
                    <button id="crop-photo-button" class="btn btn-warning">
                        <i class="fa fa-crop"></i> Crop
                    </button>
                    {{/if}}
                    {{/isolate}}
                </div>
            </form>
        </div>
    </div>
</template>
